<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 在Xcode中添加自定义代码片段 · Morefun With Coding</title><meta name="description" content="在Xcode中添加自定义代码片段 - Tinghui"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://blog.morefun.mobi/atom.xml" title="Morefun With Coding"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/Tinghui" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="mailto:tinghui.zhang3@gmail.com" target="_self" class="nav-list-link">EMAIL</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">在Xcode中添加自定义代码片段</h1><div class="post-info">2012年5月6日</div><div class="post-content"><p>我们经常会定义一些retain的property，而且大概每次我们都会像这样写：</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">retain</span>) Type *name;</div></pre></td></tr></table></figure>
<p>每次都把 @property (nonatomic, retain) 挨个敲一遍，太累了。</p>
<p>那么能不能像Xcode自带的代码提示功能一样，每次只敲几个字符，代码提示就自动出来了，这样不是方便了许多吗？</p>
<p>是的，Xcode提供了代码片段管理功能。我们可以自定义自己的代码片段并有自动提示功能。下面我就以这段代码为例，展示如何在Xcode中添加自定义的代码片段。<a id="more"></a></p>
<ol>
<li><p>用Xcode随便打开或新建一个项目，然后随便打开一个.h或者.m文件。</p>
</li>
<li><p>随便找个空白位置，输入“@property (nonatomic, retain) &lt;#type#&gt; *&lt;#name#&gt;;”。(不含双引号，“&lt;#”、“#&gt;”这两个符号的作用，你一会儿就明白了。)</p>
</li>
<li><p>打开Xcode右侧的Utilities View，然后在其靠底部的位置找到并打开Code Snippets Library。</p>
</li>
<li><p>选中我们刚刚输入的那段代码，把它拖到Code Snippets Library中。</p>
</li>
<li><p>滚动到Code Snippets Library的最底部，找到一个花括号上面带个“User”文字的图标。</p>
</li>
<li><p>单击那个图标，会弹出一个窗口。然后点击窗口底部左边的Edit按钮。</p>
</li>
<li><p>在Title和Completion shortcut这两项中，输入代码片段的标题和快捷键。快捷键用于激活代码提示，标题则会显示在代码提示中。此例中，我们输入标题为“Objective-C @property retain”，快捷键为“@property ”。</p>
</li>
<li><p>选择对应的platform、language和Completion scope。然后点击“Done”按钮。</p>
<blockquote>
<p>这个例子中，platform我们选All；language选Objective-C；Completion scope选Class Interface Methods。<br>Completion scope指定了激活代码提示的快捷键的有效的区域，比如这里我們选的Class Interface Methods就是说明这段代码的快捷键在声明类方法的区域才能激活代码提示；在其他任何区域，无论怎么敲这个快捷键，都不会出现这段代码的提示。</p>
</blockquote>
</li>
</ol>
<p>好了，现在删掉我们刚刚输入的代码。然后随便找个类的头文件，在定义property的区域，试试敲入我们刚刚设置的快捷键。你注意到了吗？我们仅仅才敲入“@p”这两个字符，代码提示就已经出来了。选中代码，回车，Xcode自动把代码给我们补全了，是不是方便多了？</p>
<p>PS.</p>
<ul>
<li>现在你知道“&lt;#”、“#&gt;”这两个符号的作用了吧？</li>
<li>为什么例子中，我们的快捷键“@property ”后面要加一个空格？试试不加空格有什么效果？</li>
</ul>
<p style="text-align:center"><img src="/images/posts/thx_money.png" width="30%" height="30%"></p></div></article></div></main><footer><div class="paginator"><a href="/2012/05/20/2012-05-20-xcode-arc-friendly-with-none-arc/" class="prev">上一篇</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'rockonmycode';
var disqus_identifier = '2012/05/06/2012-05-06-xcode-code-snippets/';
var disqus_title = '在Xcode中添加自定义代码片段';
var disqus_url = 'http://blog.morefun.mobi/2012/05/06/2012-05-06-xcode-code-snippets/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//rockonmycode.disqus.com/count.js" async></script><div class="copyright"><p>© 2012 - 2017 <a href="http://blog.morefun.mobi">Tinghui</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>